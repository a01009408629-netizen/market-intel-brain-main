---
# TopologySpreadConstraints for Go Gateway API
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: go-gateway-zone-spread
  labels:
    app: market-intel-brain
    component: go-gateway
    topology: "zone"
spec:
  maxSkew: 1
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: go-gateway
---
# TopologySpreadConstraints for Go Gateway API - Node Level
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: go-gateway-node-spread
  labels:
    app: market-intel-brain
    component: go-gateway
    topology: "node"
spec:
  maxSkew: 2
  topologyKey: kubernetes.io/hostname
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: go-gateway
---
# TopologySpreadConstraints for Rust Core Engine
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: rust-engine-zone-spread
  labels:
    app: market-intel-brain
    component: rust-engine
    topology: "zone"
spec:
  maxSkew: 1
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: rust-engine
---
# TopologySpreadConstraints for Rust Core Engine - Node Level
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: rust-engine-node-spread
  labels:
    app: market-intel-brain
    component: rust-engine
    topology: "node"
spec:
  maxSkew: 1
  topologyKey: kubernetes.io/hostname
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: rust-engine
---
# TopologySpreadConstraints for Analytics Service
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: analytics-zone-spread
  labels:
    app: market-intel-brain
    component: analytics
    topology: "zone"
spec:
  maxSkew: 2
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: analytics
---
# TopologySpreadConstraints for Analytics Service - Node Level
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: analytics-node-spread
  labels:
    app: market-intel-brain
    component: analytics
    topology: "node"
spec:
  maxSkew: 3
  topologyKey: kubernetes.io/hostname
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: analytics
---
# TopologySpreadConstraints for Vector Store Service
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: vector-store-zone-spread
  labels:
    app: market-intel-brain
    component: vector-store
    topology: "zone"
spec:
  maxSkew: 1
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: vector-store
---
# TopologySpreadConstraints for Vector Store Service - Node Level
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: vector-store-node-spread
  labels:
    app: market-intel-brain
    component: vector-store
    topology: "node"
spec:
  maxSkew: 1
  topologyKey: kubernetes.io/hostname
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: vector-store
---
# TopologySpreadConstraints for Redis Cache
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: redis-zone-spread
  labels:
    app: market-intel-brain
    component: redis
    topology: "zone"
spec:
  maxSkew: 1
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: redis
---
# TopologySpreadConstraints for PostgreSQL Database
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: postgresql-zone-spread
  labels:
    app: market-intel-brain
    component: postgresql
    topology: "zone"
spec:
  maxSkew: 1
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: postgresql
---
# TopologySpreadConstraints for Redpanda/Kafka
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: redpanda-zone-spread
  labels:
    app: market-intel-brain
    component: redpanda
    topology: "zone"
spec:
  maxSkew: 1
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: redpanda
---
# TopologySpreadConstraints for Redpanda/Kafka - Node Level
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: redpanda-node-spread
  labels:
    app: market-intel-brain
    component: redpanda
    topology: "node"
spec:
  maxSkew: 1
  topologyKey: kubernetes.io/hostname
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: redpanda
---
# TopologySpreadConstraints for Prometheus
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: prometheus-zone-spread
  labels:
    app: market-intel-brain
    component: prometheus
    topology: "zone"
spec:
  maxSkew: 1
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: prometheus
---
# TopologySpreadConstraints for Grafana
apiVersion: v1
kind: TopologySpreadConstraint
metadata:
  name: grafana-zone-spread
  labels:
    app: market-intel-brain
    component: grafana
    topology: "zone"
spec:
  maxSkew: 1
  topologyKey: topology.kubernetes.io/zone
  whenUnsatisfiable: DoNotSchedule
  labelSelector:
    matchLabels:
      app: market-intel-brain
      component: grafana
